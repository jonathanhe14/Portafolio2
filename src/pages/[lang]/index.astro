---
import Layout from "../../layouts/Layout.astro";
import "../../styles/global.css";
import Header from "../../components/Header.astro";
import About from "../../components/About.astro";
import Footer from "../../components/About.astro";
import Proyectos from "../../components/Proyectos.astro";
import Lineas from "../../components/Lineas.astro";
import Form from "../../components/Form.astro";

import { getLangFromUrl, useTranslations } from '../../i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<Layout title="Jonathan Herrera">
  <Header />
  <Lineas />

  <main
    class="mx-auto p-4 w-[55%] max-w-[calc(100%-1rem)] text-white text-xl leading-relaxed"
  >
    <div class="flex items-center justify-center min-h-screen -mt-10">
      <div>
        <span class="text-complementario tracking-wider font-medium mb-10"
          >{t('saludo')}</span
        >
        <h1 class="text-gray-200 text-8xl font-bold pb-4 pt-5 tracking-widest">
          {t('nombre')}
        </h1>
        <h1 class="text-gray-300 text-6xl font-bold pb-12 tracking-widest">
          {t('profecion')}<span
            class="inline-block bg-complementario w-2 h-2 rounded-full animate-pulseDot"
          ></span>
        </h1>

        <div class="flex">
          <p class="text-left mt-4 text-lg mb-10 text-gray-300">
            {t('descripcion')}
          </p>
        </div>
        <a
          href="/public/archives/CV-EN.pdf"
          download="CV-EN.pdf"
          class="inline-block text-center w-36 h-10 border-2 border-complementario text-complementario font-semibold rounded-lg transform transition-all duration-300 hover:translate-y-[-4px] hover:shadow-lg hover:shadow-complementario"
          id="cv"
        >
          CV
        </a>
      </div>
    </div>

    <About />
    <h2
      class="text-complementario text-3xl mb-4 relative inline-block font-bold after:content-[''] after:block after:w-full after:h-[2px] after:bg-complementario after:ml-4 after:mt-2"
      id="proyectos"
    >
    {t('trabajo')}
    </h2>
    <Proyectos />

    <Form />
  </main>
  <Footer />
</Layout>

<style>
  /* main {
    margin: auto;
    padding: 1rem;
    width: 55%;
    max-width: calc(100% - 1rem);
    color: white;
    font-size: 20px;
    line-height: 1.6;
  } */

  .astro-a {
    position: absolute;
    top: -32px;
    left: 50%;
    transform: translatex(-50%);
    width: 220px;
    height: auto;
    z-index: -1;
  }
  .logo {
    width: 60px;
    height: 60px;
    margin-top: 30px;
    margin-left: 30px;
  }
  .logo:hover {
    transform: scale(1.1);
  }
</style>

<script>
  const cv = document.getElementById("cv");
  if (cv) {
    cv.addEventListener("click", () => {
      descargarCV();
    });
  }
  function descargarCV() {
    const link = document.createElement("a");
    link.href = "../public/archives/CV-EN.pdf";
    link.download = "CV-EN.pdf";
    link.click();
  }
</script>
